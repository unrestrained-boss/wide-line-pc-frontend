{"version":3,"sources":["services/MenuService.ts","index.tsx","services/UserService.ts","pages lazy /^/.//.*$/ groupOptions: {} namespace object","utils/Constant.ts","App.tsx","serviceWorker.ts","Jump.tsx","utils/Http.ts","services/BaseService.ts","pages/NotFound.tsx","utils/Routes.tsx","components/wl-modal/WLModal.tsx","pages/LoginPage.tsx","components/wl-sidebar/WLSidebar.tsx","pages/DashBoardPage.tsx"],"names":["MenuService","useMenuList","BaseService","useServiceListWithoutPagingBase","useMenuUrlList","addMenu","addServiceBase","updateMenu","updateServiceBase","deleteMenu","deleteServiceBase","toggleMenuStatus","getAvailableMenus","Promise","resolve","setTimeout","id","name","icon","sort","pid","a","init","require","loginUser","body","Http","post","getUserToken","window","localStorage","getItem","setUserToken","token","setItem","logoutUser","clear","map","webpackAsyncContext","req","__webpack_require__","o","then","e","Error","code","ids","all","slice","t","keys","Object","module","exports","history","createHashHistory","dashBoardPath","App","useEffect","UserService","replace","locale","zhCN","exact","path","to","component","DashBoardPage","LoginPage","NotFound","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","instance","Axios","create","baseURL","process","timeout","_createError","error","showMessage","warning","message","stack","interceptors","request","use","config","headers","response","data","err","WLModal","alert","defaultCanDismiss","defaultClosable","onOk","href","msg","useState","count","setCount","page","setPage","setData","isLoading","setIsLoading","isError","setIsError","mounted","get","fetchData","refresh","useServiceListBase","pageSize","total","setTotal","params","listServiceBase","join","Component","loadComponent","lazy","NotFoundComponent","status","title","subTitle","extra","onClick","type","localRoutes","100","101","102","103","104","getMenuAndRoutes","dynamicRoutes","newRoutes","dynamicRoute","localRoute","uniqueId","dd","routes","results","route","item","children","length","b","push","menus","console","log","openModal","options","container","createElement","clearDom","unmountComponentAtNode","remove","visible","setVisible","canClosable","setCanClosable","canDismiss","injectProps","close","setCanDismiss","getPreData","onComplete","destroyOnClose","afterClose","closable","maskClosable","keyboard","onCancel","centered","footer","confirm","loading","setLoading","className","getTitle","failBack","cancelButtonProps","disabled","okButtonProps","key","iconType","style","marginLeft","formItemLayout","labelCol","span","wrapperCol","props","form","getFieldDecorator","validateFieldsAndScroll","submitting","setSubmitting","spinning","layout","onSubmit","preventDefault","values","success","handleSubmit","textAlign","Item","label","rules","required","autoFocus","placeholder","block","htmlType","dashBoardPathReg","RegExp","defaultSelectedKey","pathname","WLSidebar","collapsed","openKeys","setOpenKeys","el","querySelector","dataset","scrollIntoView","customProps","undefined","onOpenChange","theme","mode","defaultSelectedKeys","forceSubMenuRender","handleMenuItemClick","getWLSidebarItem","menu","SubMenu","data-key","setCollapsed","height","Sider","width","trigger","collapsible","src","alt","display","Header","color","backgroundColor","Content","fallback"],"mappings":"yIAAA,YAoCMA,EAAc,CAClBC,YAnCkB,kBAAMC,IAAYC,gCAAuC,iBAoC3EC,eAlCqB,kBAAMF,IAAYC,gCAGtC,gBAgCDE,QA9BcH,IAAYI,eAAsB,cA+BhDC,WA7BiBL,IAAYM,kBAAyB,eA8BtDC,WA5BiBP,IAAYQ,kBAAkB,iBA6B/CC,iBA3BuBT,IAAYM,kBAAuC,eA4B1EI,kBA1BwB,WACxB,OAAO,IAAIC,QAAQ,SAACC,GAClBC,WAAW,WAETD,EAAQ,CACN,CAACE,GAAI,EAAGC,KAAM,4BAASC,KAAM,SAAUC,KAAM,EAAGC,IAAK,GACrD,CAACJ,GAAI,EAAGC,KAAM,2BAAQC,KAAM,SAAUC,KAAM,EAAGC,IAAK,GACpD,CAACJ,GAAI,EAAGC,KAAM,2BAAQC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GAC9C,CAACJ,GAAI,EAAGC,KAAM,2BAAQC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GAC9C,CAACJ,GAAI,IAAKC,KAAM,iCAAcC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GACtD,CAACJ,GAAI,IAAKC,KAAM,qBAAYC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GACpD,CAACJ,GAAI,IAAKC,KAAM,iCAASC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GACjD,CAACJ,GAAI,IAAKC,KAAM,2BAAQC,KAAM,GAAIC,KAAM,EAAGC,IAAK,GAChD,CAACJ,GAAI,IAAKC,KAAM,2BAAQC,KAAM,GAAIC,KAAM,EAAGC,IAAK,MAEjD,SAcQpB,O,yIC7Cd,qBAAC,sBAAAqB,EAAA,qEACMC,cADN,OAEAC,EAAQ,KAFR,wCAAD,I,sDCDD,YAae,KACbC,UAbgB,SAACC,GACjB,OAAOC,IAAKC,KAAK,SAAUF,IAa3BG,aAXmB,WACnB,OAAOC,OAAOC,aAAaC,QAAQ,UAWnCC,aATmB,SAACC,GACpBJ,OAAOC,aAAaI,QAAQ,QAASD,IASrCE,WAPiB,WACjBN,OAAOC,aAAaM,W,oBCXtB,IAAIC,EAAM,CACT,kBAAmB,CAClB,GACA,GAED,uBAAwB,CACvB,IACA,GAED,sBAAuB,CACtB,GACA,GAED,cAAe,CACd,GACA,GAED,mBAAoB,CACnB,IACA,GAED,kBAAmB,CAClB,GACA,GAED,aAAc,CACb,GACA,GAED,iBAAkB,CACjB,GACA,GAED,0CAA2C,CAC1C,IACA,EACA,EACA,GAED,8CAA+C,CAC9C,IACA,EACA,EACA,GAED,sCAAuC,CACtC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,0CAA2C,CAC1C,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,EACA,GAED,uCAAwC,CACvC,IACA,EACA,EACA,GAED,+BAAgC,CAC/B,IACA,EACA,EACA,EACA,EACA,EACA,IAED,mCAAoC,CACnC,IACA,EACA,EACA,EACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,GAED,8BAA+B,CAC9B,IACA,EACA,GAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,GACA,IAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,EACA,GACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,EACA,IAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,IAED,0BAA2B,CAC1B,IACA,EACA,EACA,EACA,EACA,IAED,kBAAmB,CAClB,IACA,EACA,EACA,EACA,EACA,EACA,GAED,sBAAuB,CACtB,IACA,EACA,EACA,EACA,EACA,EACA,IAGF,SAASC,EAAoBC,GAC5B,IAAIC,EAAoBC,EAAEJ,EAAKE,GAC9B,OAAO1B,QAAQC,UAAU4B,KAAK,WAC7B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBL,EAAM,KAEjD,MADAI,EAAEE,KAAO,mBACHF,IAIR,IAAIG,EAAMT,EAAIE,GAAMvB,EAAK8B,EAAI,GAC7B,OAAOjC,QAAQkC,IAAID,EAAIE,MAAM,GAAGX,IAAIG,EAAoBG,IAAID,KAAK,WAChE,OAAOF,EAAo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","file":"static/js/main.30fb02d0.chunk.js","sourcesContent":["import BaseService from \"./BaseService\";\n\nconst useMenuList = () => BaseService.useServiceListWithoutPagingBase<IMenu>('/menus/index');\n\nconst useMenuUrlList = () => BaseService.useServiceListWithoutPagingBase<{\n  uri: string;\n  method: string;\n}>('/menus/urls');\n\nconst addMenu = BaseService.addServiceBase<IMenu>('/menus/add');\n\nconst updateMenu = BaseService.updateServiceBase<IMenu>('/menus/edit');\n\nconst deleteMenu = BaseService.deleteServiceBase('/menus/delete');\n\nconst toggleMenuStatus = BaseService.updateServiceBase<{ status: boolean }>('/menus/edit');\n\nconst getAvailableMenus = () => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n\n      resolve([\n        {id: 1, name: '系统设置1', icon: 'icon-1', sort: 1, pid: 0},\n        {id: 2, name: '用户管理', icon: 'icon-2', sort: 3, pid: 0},\n        {id: 3, name: '订单管理', icon: '', sort: 2, pid: 0},\n        {id: 4, name: '产品管理', icon: '', sort: 4, pid: 0},\n        {id: 100, name: 'banner分类管理', icon: '', sort: 4, pid: 1,},\n        {id: 101, name: 'banner管理', icon: '', sort: 2, pid: 1,},\n        {id: 102, name: '管理员管理', icon: '', sort: 3, pid: 1,},\n        {id: 103, name: '角色管理', icon: '', sort: 1, pid: 1,},\n        {id: 104, name: '菜单管理', icon: '', sort: 5, pid: 1,}\n      ])\n    }, 500);\n  });\n};\n\nconst MenuService = {\n  useMenuList,\n  useMenuUrlList,\n  addMenu,\n  updateMenu,\n  deleteMenu,\n  toggleMenuStatus,\n  getAvailableMenus,\n};\n\nexport default MenuService;\n\nexport interface IMenu {\n  id?: number;\n  name: string;\n  as?: string;\n  pid?: number;\n  url: string;\n  icon: string;\n  status: number;\n  sort: number;\n}\n","import { init } from \"./utils/Routes\";\n;(async () => {\n  await init();\n  require('./Jump');\n})();\n\n","import Http from '../utils/Http';\nconst loginUser = (body: any) => {\n  return Http.post('/login', body)\n};\nconst getUserToken = () => {\n  return window.localStorage.getItem('token');\n};\nconst setUserToken = (token: string) => {\n  window.localStorage.setItem('token', token);\n};\nconst logoutUser = () => {\n  window.localStorage.clear();\n};\nexport default {\n  loginUser,\n  getUserToken,\n  setUserToken,\n  logoutUser,\n}\n","var map = {\n\t\"./DashBoardPage\": [\n\t\t98,\n\t\t9\n\t],\n\t\"./DashBoardPage.scss\": [\n\t\t166,\n\t\t7\n\t],\n\t\"./DashBoardPage.tsx\": [\n\t\t98,\n\t\t9\n\t],\n\t\"./LoginPage\": [\n\t\t96,\n\t\t9\n\t],\n\t\"./LoginPage.scss\": [\n\t\t125,\n\t\t7\n\t],\n\t\"./LoginPage.tsx\": [\n\t\t96,\n\t\t9\n\t],\n\t\"./NotFound\": [\n\t\t62,\n\t\t9\n\t],\n\t\"./NotFound.tsx\": [\n\t\t62,\n\t\t9\n\t],\n\t\"./administration/AdministrationAddModal\": [\n\t\t196,\n\t\t9,\n\t\t3,\n\t\t5\n\t],\n\t\"./administration/AdministrationAddModal.tsx\": [\n\t\t196,\n\t\t9,\n\t\t3,\n\t\t5\n\t],\n\t\"./administration/AdministrationPage\": [\n\t\t211,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t],\n\t\"./administration/AdministrationPage.tsx\": [\n\t\t211,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t11\n\t],\n\t\"./banner-item/BannerItemAddModal\": [\n\t\t198,\n\t\t9,\n\t\t3,\n\t\t6\n\t],\n\t\"./banner-item/BannerItemAddModal.tsx\": [\n\t\t198,\n\t\t9,\n\t\t3,\n\t\t6\n\t],\n\t\"./banner-item/BannerItemPage\": [\n\t\t213,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./banner-item/BannerItemPage.tsx\": [\n\t\t213,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t3,\n\t\t12\n\t],\n\t\"./banner/BannerAddModal\": [\n\t\t197,\n\t\t9,\n\t\t9\n\t],\n\t\"./banner/BannerAddModal.tsx\": [\n\t\t197,\n\t\t9,\n\t\t9\n\t],\n\t\"./banner/BannerPage\": [\n\t\t212,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t14\n\t],\n\t\"./banner/BannerPage.tsx\": [\n\t\t212,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t14\n\t],\n\t\"./menu/MenuAddModal\": [\n\t\t199,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t4,\n\t\t13,\n\t\t16\n\t],\n\t\"./menu/MenuAddModal.tsx\": [\n\t\t199,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t4,\n\t\t13,\n\t\t16\n\t],\n\t\"./menu/MenuPage\": [\n\t\t214,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t4,\n\t\t10\n\t],\n\t\"./menu/MenuPage.tsx\": [\n\t\t214,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t4,\n\t\t10\n\t],\n\t\"./role/RoleAddModal\": [\n\t\t200,\n\t\t9,\n\t\t0,\n\t\t4,\n\t\t8,\n\t\t15\n\t],\n\t\"./role/RoleAddModal.tsx\": [\n\t\t200,\n\t\t9,\n\t\t0,\n\t\t4,\n\t\t8,\n\t\t15\n\t],\n\t\"./role/RolePage\": [\n\t\t215,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t4,\n\t\t7\n\t],\n\t\"./role/RolePage.tsx\": [\n\t\t215,\n\t\t9,\n\t\t0,\n\t\t1,\n\t\t2,\n\t\t4,\n\t\t7\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(2).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__.t(id, ids[1])\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 298;\nmodule.exports = webpackAsyncContext;","import {createHashHistory} from 'history';\n\nexport const history = createHashHistory();\nexport const dashBoardPath = '/dashboard'; // 不要设置为根路径\n// export const history = createBrowserHistory();\n","import React, {useEffect} from 'react';\nimport {Redirect, Route, Router, Switch} from \"react-router\";\nimport {dashBoardPath, history} from './utils/Constant';\nimport DashBoardPage from \"./pages/DashBoardPage\";\nimport LoginPage from \"./pages/LoginPage\";\nimport NotFound from \"./pages/NotFound\";\nimport zhCN from 'antd/es/locale/zh_CN';\nimport {ConfigProvider} from \"antd\";\nimport UserService from \"./services/UserService\";\n\nconst App: React.FC = () => {\n  useEffect(() => {\n    if (!UserService.getUserToken()) {\n      history.replace('/login');\n    }\n  }, []);\n  return (\n    <ConfigProvider locale={zhCN}>\n      <Router history={history}>\n        <Switch>\n          <Redirect exact path=\"/\" to={dashBoardPath}/>\n          <Route path={dashBoardPath} component={DashBoardPage}/>\n          <Route exact path=\"/login\" component={LoginPage}/>\n          <Route component={NotFound}/>\n        </Switch>\n      </Router>\n    </ConfigProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import Axios, {AxiosResponse} from 'axios'\nimport UserService from \"../services/UserService\";\n// import {history} from './Constant';\nimport {message} from \"antd\";\nimport WLModal from \"../components/wl-modal/WLModal\";\n// import ClrMessageService from \"../components/clr-message/ClrMessageService\";\n// import ClrModalService from \"../components/clr-modal/ClrModalService\";\n\nconst baseURL = process.env.REACT_APP_API_BASE_URL;\nconst instance = Axios.create({\n  baseURL,\n  timeout: 10000,\n});\n\nexport interface BeforeResponse {\n  data: any;\n  code: number;\n  msg: string;\n}\n\nexport interface ResponseError extends Error {\n  showMessage: () => void;\n}\n\nfunction _createError(error: Error): ResponseError {\n  return {\n    showMessage: () => {\n      message.warning(error.message);\n    },\n    message: error.message,\n    stack: error.stack,\n    name: error.name,\n  };\n}\n\ninstance.interceptors.request.use(config => {\n  const token = UserService.getUserToken();\n  if (token) {\n    config.headers[\"X-Token\"] = UserService.getUserToken();\n  }\n  return config;\n});\ninstance.interceptors.response.use((response: AxiosResponse<BeforeResponse | string>): any => {\n  const {data} = response;\n  let err: ResponseError | null = null;\n  if (typeof data === 'string') {\n    err = _createError(new Error(data));\n  } else if (data.code === 600) {\n    WLModal.alert('登录信息已过期, 请重新登录', {\n      defaultCanDismiss: false,\n      defaultClosable: false,\n      onOk() {\n        UserService.logoutUser();\n        // 跳到登录页\n        // history.replace('/login');\n        window.location.href = process.env.REACT_APP_BASE_URL as string;\n      }\n    });\n    err = _createError(new Error(data.msg));\n  } else if (data.code !== 200) {\n    err = _createError(new Error(data.msg));\n  }\n  return [typeof data === 'string' ? data : data.data, err, response];\n}, error => {\n  // console.log(error, 111)\n  // if (error.response && error.response.data.code === 600) {\n  //   WLModal.alert('登录信息已过期, 请重新登录', {\n  //     backgroundDismiss: false,\n  //     showClose: false,\n  //     onOk() {\n  //       // UserService.logoutUser();\n  //       // 跳到登录页\n  //       // history.replace('/login');\n  //       // window.location.reload();\n  //     }\n  //   })\n  // }\n  return [null, _createError(error), error.response]\n});\n// 纯 http 不带拦截器\nexport const pureHttp = Axios;\nexport default instance;\n","import {Dispatch, SetStateAction, useEffect, useState} from \"react\";\nimport {AxiosResponse} from \"axios\";\nimport Http, {ResponseError} from \"../utils/Http\";\n\n\nfunction useServiceListWithoutPagingBase<T>(path: string): {\n  data: T[],\n  setData: Dispatch<SetStateAction<T[]>>;\n  isLoading: boolean;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n  isError: boolean;\n  setIsError: Dispatch<SetStateAction<boolean>>;\n  page: number;\n  setPage: Dispatch<SetStateAction<number>>;\n  refresh: () => void;\n} {\n  const [count, setCount] = useState<number>(1);\n  const [page, setPage] = useState<number>(1);\n  const [data, setData] = useState<T[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isError, setIsError] = useState<boolean>(false);\n\n\n  useEffect(() => {\n    let mounted = true;\n    const fetchData = async () => {\n      setIsError(false);\n      setIsLoading(true);\n      const [data, err] = await Http.get(path);\n      if (!mounted) {\n        return;\n      }\n      setIsLoading(false);\n      if (err) {\n        setIsError(true);\n        return;\n      }\n      if (data) {\n        setData(data);\n      }\n    };\n    fetchData();\n    return () => {\n      mounted = false;\n    };\n  }, [page, count, path]);\n  return {\n    data,\n    setData,\n    isLoading,\n    setIsLoading,\n    isError,\n    setIsError,\n    page,\n    setPage,\n    refresh() {\n      setCount(count + 1);\n    }\n  };\n}\n\nfunction useServiceListBase<T>(path: string,  pageSize = 20): {\n  total: number;\n  data: T[],\n  setData: Dispatch<SetStateAction<T[]>>;\n  isLoading: boolean;\n  setIsLoading: Dispatch<SetStateAction<boolean>>;\n  isError: boolean;\n  setIsError: Dispatch<SetStateAction<boolean>>;\n  page: number;\n  setPage: Dispatch<SetStateAction<number>>;\n  refresh: () => void;\n} {\n  const [count, setCount] = useState<number>(1);\n  const [page, setPage] = useState<number>(1);\n  const [total, setTotal] = useState<number>(1);\n  const [data, setData] = useState<T[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isError, setIsError] = useState<boolean>(false);\n\n\n  useEffect(() => {\n    let mounted = true;\n    const fetchData = async () => {\n      setIsError(false);\n      setIsLoading(true);\n      const [data, err] = await Http.get(path, {\n        params: {page, pageSize}\n      });\n      if (!mounted) {\n        return;\n      }\n      setIsLoading(false);\n      if (err) {\n        setIsError(true);\n        return;\n      }\n      if (data) {\n        setTotal(data.total);\n        setData(data.data);\n      }\n    };\n    fetchData();\n    return () => {\n      mounted = false;\n    };\n  }, [page, count, path, pageSize]);\n  return {\n    total,\n    data,\n    setData,\n    isLoading,\n    setIsLoading,\n    isError,\n    setIsError,\n    page,\n    setPage,\n    refresh() {\n      setCount(count + 1);\n    }\n  };\n}\n\nfunction listServiceBase<T>(path: string): (page: number, pageSize?: number) => Promise<[\n  {total: number, data: T[]},\n  ResponseError | null,\n  AxiosResponse\n  ]> {\n  return (page: number, pageSize = 20) => {\n    return Http.get(path, {\n      params: { page, pageSize }\n    });\n  }\n}\nfunction addServiceBase<T>(path: string): (body: T) => Promise<[\n  any,\n  ResponseError | null,\n  AxiosResponse\n  ]> {\n  return (body: T) => {\n    return Http.post(path, body);\n  }\n}\n\nfunction updateServiceBase<T>(path: string): (id: number, body: T) => Promise<[\n  any,\n  ResponseError | null,\n  AxiosResponse\n  ]> {\n  return (id: number, body: T) => {\n    return Http.post(path, {\n      id,\n      ...body,\n    });\n  }\n}\n\nfunction deleteServiceBase(path: string): (ids: number[]) => Promise<[\n  any,\n  ResponseError | null,\n  AxiosResponse\n  ]> {\n  return (ids: number[]) => {\n    return Http.get(path, {\n      params: {\n        ids: ids.join(','),\n      }\n    });\n  }\n}\n\nexport default {\n  useServiceListWithoutPagingBase,\n  useServiceListBase,\n  listServiceBase,\n  addServiceBase,\n  updateServiceBase,\n  deleteServiceBase,\n}\n","import React, {Component} from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div>\n        not found\n      </div>\n    );\n  }\n}\n\nexport default NotFound;\n","import React, {lazy} from \"react\";\nimport MenuService from \"../services/MenuService\";\nimport {Button, Result} from \"antd\";\nimport UserService from \"../services/UserService\";\nimport uniqueId from \"lodash/uniqueId\";\n\nconst loadComponent = (path: string) => lazy(() => import(`../pages/${path}`));\n\ninterface IDynamicRoute {\n  id: number;\n  name: string;\n  icon: string;\n  sort: number;\n  pid: number;\n}\n\nexport interface IRoute {\n  id?: number,\n  name?: string;\n  icon?: string;\n  path: string;\n  component?: any;\n  sort?: number;\n  pid?: number;\n}\n\nexport interface IMenu {\n  name: string;\n  icon: string;\n  path: string;\n  sort: number;\n  children?: IMenu[];\n}\n\nfunction NotFoundComponent() {\n  return (\n    <Result\n      status=\"404\"\n      title=\"404\"\n      subTitle=\"抱歉, 你访问的页面不存在!\"\n      extra={<Button onClick={() => {\n        window.location.href = process.env.REACT_APP_BASE_URL as string;\n      }}\n     type=\"primary\">返回主页</Button>}\n    />\n  );\n}\n\nconst localRoutes: { [s: number]: IRoute } = {\n  // 1: {path: '/system',},\n  // 2: {path: '/user',},\n  // 3: {path: '/order',},\n  // 4: {path: '/product',},\n  100: {\n    path: '/banner',\n    component: loadComponent('banner/BannerPage'),\n  },\n  101: {\n    path: '/banner-item',\n    component: loadComponent('banner-item/BannerItemPage'),\n  },\n  102: {\n    path: '/administration',\n    component: loadComponent('administration/AdministrationPage'),\n  },\n  103: {\n    path: '/role',\n    component: loadComponent('role/RolePage'),\n  },\n  104: {\n    path: '/menu',\n    component: loadComponent('menu/MenuPage'),\n  }\n};\n\nfunction getMenuAndRoutes(dynamicRoutes: IDynamicRoute[]): [IMenu[], IRoute[]] {\n  const newRoutes: IRoute[] = dynamicRoutes.map(dynamicRoute => {\n    const localRoute = localRoutes[dynamicRoute.id];\n    // 未与本地映射\n    if (!localRoute) {\n      return {\n        id: dynamicRoute.id,\n        name: dynamicRoute.name,\n        icon: dynamicRoute.icon,\n        path: uniqueId('/~notfound_'),\n        component: NotFoundComponent,\n        sort: dynamicRoute.sort,\n        pid: dynamicRoute.pid,\n      }\n    }\n    return {\n      id: dynamicRoute.id,\n      name: dynamicRoute.name,\n      icon: dynamicRoute.icon,\n      path: localRoute.path,\n      component: localRoute.component,\n      sort: dynamicRoute.sort,\n      pid: dynamicRoute.pid,\n    };\n  });\n\n  return [dd(newRoutes, 0), newRoutes];\n}\n\nfunction dd(routes: IRoute[], pid: number): IMenu[] {\n  const results: IMenu[] = [];\n  for (let route of routes) {\n    if (route.pid === pid) {\n      const item: IMenu = {\n        name: route.name!,\n        icon: route.icon!,\n        path: route.path,\n        sort: route.sort!,\n      };\n      item.children = dd(routes, route.id!);\n      if (item.children.length === 0) {\n        delete item.children;\n      } else {\n        item.children = item.children.sort((a, b) => a.sort! - b.sort!);\n      }\n      results.push(item);\n    }\n  }\n  return results.sort((a, b) => a.sort! - b.sort!);\n}\n\nexport let menus: IMenu[] = [];\nexport let routes: IRoute[] = [];\n\nexport async function init() {\n  if (!UserService.getUserToken()) {\n    return;\n  }\n  const data = await MenuService.getAvailableMenus();\n  const [a, b] = getMenuAndRoutes(data as any);\n  menus = a;\n  routes = b;\n  console.log(menus);\n}\n","import ReactDOM from \"react-dom\";\nimport React, {useState} from \"react\";\nimport {Button, Icon, Modal} from \"antd\";\nimport './WLModal.scss';\nimport zhCN from 'antd/es/locale/zh_CN';\nimport {ConfigProvider} from \"antd\";\n\nexport interface IWLModalOpenOptions {\n  title?: string;\n  defaultCanDismiss?: boolean;\n  defaultClosable?: boolean;\n  data?: any;\n  onComplete?: () => void;\n}\nexport interface IWLAlertModalOpenOptions {\n  title?: string;\n  onOk?: (s: {\n    close: () => void,\n    setLoading: () => void;\n    failBack: () => void;\n  }) => void;\n  defaultCanDismiss?: boolean;\n  defaultClosable?: boolean;\n}\nexport interface IWLConfirmModalOpenOptions extends IWLAlertModalOpenOptions {\n  onCancel?: () => void;\n}\n\nexport interface IWLModalInjectProps {\n  close: () => void;\n  setCanDismiss: (s: boolean) => void;\n  setCanClosable: (s: boolean) => void;\n  getPreData: <T>() => T;\n  onComplete?: () => void;\n}\n\nfunction openModal(Component: any, options: IWLModalOpenOptions = {}) {\n  const container = document.createElement('div');\n  const {defaultClosable = true, defaultCanDismiss = true} = options;\n  // document.body.append(container);\n  const clearDom = () => {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n  };\n\n  function WrapModal() {\n    const [visible, setVisible] = useState(defaultClosable);\n    const [canClosable, setCanClosable] = useState(defaultClosable);\n    const [canDismiss, setCanDismiss] = useState(defaultCanDismiss);\n    const injectProps: IWLModalInjectProps = {\n      close: () => setVisible(false),\n      setCanDismiss,\n      setCanClosable,\n      getPreData: () => options.data,\n      onComplete: options.onComplete ? options.onComplete : () => {\n      },\n    };\n    return (\n      <ConfigProvider locale={zhCN}>\n        <Modal title={options.title || <span>&nbsp;</span>}\n               destroyOnClose\n               afterClose={() => {\n                 clearDom();\n               }}\n               closable={canClosable}\n               maskClosable={canDismiss}\n               keyboard={canDismiss}\n               onCancel={() => setVisible(false)}\n               onOk={() => setVisible(false)}\n               visible={visible}\n               centered\n               footer={null}>\n          <Component {...injectProps} />\n        </Modal>\n      </ConfigProvider>\n    );\n  }\n\n  ReactDOM.render(<WrapModal/>, container);\n}\n\n\nfunction alert(Component: any, options: IWLAlertModalOpenOptions = {}) {\n  const container = document.createElement('div');\n  const {defaultClosable = true, defaultCanDismiss = true} = options;\n  const clearDom = () => {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n  };\n\n  function WrapModal() {\n    const [loading, setLoading] = useState(false);\n    const [visible, setVisible] = useState(true);\n    const [canClosable, setCanClosable] = useState(defaultClosable);\n    const [canDismiss, setCanDismiss] = useState(defaultCanDismiss);\n\n    function handleOk() {\n      if (options!.onOk) {\n        options!.onOk({\n          close: () => setVisible(false),\n          setLoading: () => {\n            setCanClosable(false);\n            setCanDismiss(false);\n            setLoading(true);\n          },\n          failBack: () => {\n            setCanClosable(true);\n            setCanDismiss(true);\n            setLoading(false);\n          }\n        });\n      } else {\n        setVisible(false);\n      }\n    }\n    //\n    // function handleCancel() {\n    //   setVisible(false);\n    // }\n\n    return (\n      <ConfigProvider locale={zhCN}>\n        <Modal className={\"wl-modal\"}\n               title={getTitle(options.title!, \"info-circle\")}\n               destroyOnClose\n               afterClose={() => {\n                 clearDom();\n               }}\n               footer={[\n                 <Button key=\"submit\" type=\"primary\" loading={loading} onClick={handleOk}>\n                   确定\n                 </Button>\n               ]}\n               closable={canClosable}\n               maskClosable={canDismiss}\n               keyboard={canDismiss}\n               visible={visible}\n               centered>\n          {Component}\n        </Modal>\n      </ConfigProvider>\n    );\n  }\n\n  ReactDOM.render(<WrapModal/>, container);\n}\n\nfunction confirm(Component: any, options: IWLConfirmModalOpenOptions = {}) {\n  const container = document.createElement('div');\n  const {defaultClosable = true, defaultCanDismiss = true} = options;\n  const clearDom = () => {\n    ReactDOM.unmountComponentAtNode(container);\n    container.remove();\n  };\n\n  function WrapModal() {\n    const [loading, setLoading] = useState(false);\n    const [visible, setVisible] = useState(true);\n    const [canClosable, setCanClosable] = useState(defaultClosable);\n    const [canDismiss, setCanDismiss] = useState(defaultCanDismiss);\n    function handleOk() {\n      if (options!.onOk) {\n        options!.onOk({\n          close: () => setVisible(false),\n          setLoading: () => {\n            setCanClosable(false);\n            setCanDismiss(false);\n            setLoading(true);\n          },\n          failBack: () => {\n            setCanClosable(true);\n            setCanDismiss(true);\n            setLoading(false);\n          }\n        });\n      } else {\n        setVisible(false);\n      }\n    }\n\n    function handleCancel() {\n      setVisible(false);\n    }\n\n    return (\n      <ConfigProvider locale={zhCN}>\n        <Modal className={\"wl-modal\"}\n               title={getTitle(options.title!)}\n               destroyOnClose\n               afterClose={() => {\n                 clearDom();\n               }}\n               closable={canClosable}\n               maskClosable={canDismiss}\n               keyboard={canDismiss}\n               onCancel={handleCancel}\n               onOk={handleOk}\n               cancelButtonProps={{disabled: loading}}\n               okButtonProps={{loading}}\n               visible={visible}\n               centered>\n          {Component}\n        </Modal>\n      </ConfigProvider>\n    );\n  }\n\n  ReactDOM.render(<WrapModal/>, container);\n}\n\nconst WLModal = {\n  openModal,\n  confirm,\n  alert,\n};\n\nexport default WLModal;\n\nfunction getTitle(title: string, iconType = 'question-circle') {\n  return (\n    <h3>\n      <Icon className={\"title-icon\"} type={iconType} />\n      <span style={{marginLeft: '10px'}}>{title || '提示'}</span>\n    </h3>\n  );\n\n}\n","import React, {useState} from \"react\";\nimport './LoginPage.scss'\nimport UserService from \"../services/UserService\";\nimport {Button, Form, Input, message, Spin} from \"antd\";\nimport {FormComponentProps} from \"antd/lib/form\";\nimport './LoginPage.scss';\n\nconst formItemLayout = {\n  labelCol: {span: 4},\n  wrapperCol: {span: 20},\n};\n\ninterface Props extends FormComponentProps<{ username: string, password: string }> {\n\n}\n\nconst LoginPage: React.FC<Props> = (props) => {\n  const {getFieldDecorator, validateFieldsAndScroll} = props.form;\n  const [submitting, setSubmitting] = useState(false);\n\n  function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    validateFieldsAndScroll(async (error, values) => {\n      if (error) {\n        return;\n      }\n      setSubmitting(true);\n      // @ts-ignore\n      const [data, err] = await UserService.loginUser(values);\n      setSubmitting(false);\n      if (err) {\n        err.showMessage();\n        return;\n      }\n      UserService.setUserToken(data.token);\n\n      message.success('登陆成功');\n      setTimeout(() => {\n        window.location.href = process.env.REACT_APP_BASE_URL as string;\n      }, 1000);\n    });\n  }\n\n  return (\n    <div className=\"login-wrapper\">\n      <Spin spinning={submitting}>\n        <Form className={\"login-form\"}\n              layout={\"horizontal\"}\n              onSubmit={e => handleSubmit(e)}>\n          <h3 style={{textAlign: 'center'}}>登录</h3>\n          <Form.Item label={\"用户名\"} {...formItemLayout}>\n            {getFieldDecorator('username', {\n              rules: [{required: true, message: '请输入用户名'}],\n            })(<Input autoFocus placeholder={\"请输入用户名\"}/>)}\n          </Form.Item>\n          <Form.Item label={\"密码\"} {...formItemLayout}>\n            {getFieldDecorator('password', {\n              rules: [{required: true, message: '请输入密码'}],\n            })(<Input type={\"password\"} placeholder={\"请输入密码\"}/>)}\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\"\n                    block\n                    htmlType=\"submit\">\n              立即登录\n            </Button>\n          </Form.Item>\n          <Button type={\"link\"}>忘记密码 ?</Button>\n        </Form>\n      </Spin>\n    </div>\n  );\n};\n\nexport default Form.create()(LoginPage);\n","import React, {useEffect, useState} from 'react';\nimport {IMenu} from \"../../pages/DashBoardPage\";\nimport {dashBoardPath, history} from \"../../utils/Constant\";\nimport {Icon, Menu} from 'antd';\n\ninterface Props {\n  menus?: IMenu[];\n  collapsed: boolean;\n}\n\nconst dashBoardPathReg = new RegExp(`^${dashBoardPath}`);\nconst defaultSelectedKey = history.location.pathname.replace(dashBoardPathReg, '');\nconst WLSidebar: React.FC<Props> = (props) => {\n  const {menus = [], collapsed = false} = props;\n  const [openKeys, setOpenKeys] = useState<string[]>([]);\n  useEffect(() => {\n    // 刷新时自动展开 subMenu\n    const el = document.querySelector<HTMLLIElement>('.ant-menu-submenu-selected');\n    if (el) {\n      setOpenKeys([el.dataset.key as string]);\n      // menuItem 自动进入视野\n      setTimeout(() => {\n        const el = document.querySelector<HTMLLIElement>('.ant-menu-item-selected');\n        el && el.scrollIntoView();\n      }, 0);\n    }\n  }, []);\n  // https://codepen.io/aforme/pen/wVyYzm\n  const customProps = collapsed ? undefined : {\n    openKeys,\n    onOpenChange: (openKeys: string[]) => setOpenKeys(openKeys),\n  };\n  return (\n    <Menu theme={\"dark\"}\n          mode={\"inline\"}\n          {...customProps}\n          defaultSelectedKeys={[defaultSelectedKey]}\n          forceSubMenuRender\n          onClick={({key}) => {\n            handleMenuItemClick(key);\n          }}>\n      {menus.map(item => {\n        return getWLSidebarItem(item);\n      })}\n    </Menu>\n\n  );\n};\n\nfunction handleMenuItemClick(key: string) {\n  history.push(dashBoardPath + key);\n}\n\nfunction getWLSidebarItem(menu: IMenu) {\n  if (menu.children) {\n    return (\n      <Menu.SubMenu data-key={menu.path} key={menu.path} title={<span>\n                <Icon type=\"mail\"/>\n                <span>{menu.name}</span>\n              </span>}>\n        {menu.children.map(item => {\n          return getWLSidebarItem(item);\n        })}\n      </Menu.SubMenu>\n    );\n  }\n  return (\n    <Menu.Item key={menu.path}>\n      <Icon type=\"inbox\"/>\n      <span>{menu.name}</span>\n    </Menu.Item>\n  );\n}\n\nexport default WLSidebar;\n","import React, {Suspense, useState} from 'react';\nimport {Layout, Icon, Button, Avatar} from 'antd';\nimport WLSidebar from \"../components/wl-sidebar/WLSidebar\";\nimport {Route, Switch} from \"react-router\";\nimport {dashBoardPath} from \"../utils/Constant\";\nimport NotFound from \"./NotFound\";\nimport './DashBoardPage.scss';\nimport {menus, routes} from \"../utils/Routes\";\nimport WLModal from \"../components/wl-modal/WLModal\";\nimport UserService from \"../services/UserService\";\n\ninterface Props {\n\n}\n\nconst DashBoardPage: React.FC<Props> = (props) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  return (\n    <Layout style={{height: '100%'}}>\n      <Layout.Sider width={240} trigger={null}\n                    collapsible\n                    collapsed={collapsed}>\n        <div className={\"sider-header\"}>\n          <img className=\"sider-logo\" src=\"http://cdn.admui.com/demo/iframe/2.1.0/images/logo-white-min.svg\" alt=\"\"/>\n          <div style={{display: collapsed ? 'none' : 'inline'}} className=\"sider-title\">\n            <span>国土战略防御局</span>\n            <span className={\"sider-sub-title\"}>S.H.I.E.L.D</span>\n          </div>\n        </div>\n        <WLSidebar collapsed={collapsed} menus={menus}/>\n      </Layout.Sider>\n      <Layout>\n        <Layout.Header className={\"header\"}>\n\n          <Icon onClick={() => {\n            setCollapsed(!collapsed);\n          }}\n                className={\"header-trigger\"}\n                type={collapsed ? 'menu-unfold' : 'menu-fold'}\n          />\n          <div className=\"header-expand\"/>\n          <div className=\"header-actions\">\n            <div className=\"profile-wrap\">\n              <Avatar style={{color: '#f56a00', backgroundColor: '#fde3cf'}}>\n                面\n              </Avatar>\n              <span className=\"profile-username\">面对疾风吧</span>\n              <ul className=\"profile-popup-wrap\">\n                <li className=\"profile-item\">账户信息</li>\n                <li className=\"profile-item\">修改密码</li>\n                <li onClick={() => {\n                  WLModal.confirm('确认退出吗?', {\n                    onOk: ({close}) => {\n                      UserService.logoutUser();\n                      window.location.href = process.env.REACT_APP_BASE_URL as string;\n                      close();\n                    }\n                  });\n                }} className=\"profile-item\">退出登录\n                </li>\n              </ul>\n            </div>\n          </div>\n        </Layout.Header>\n        <Layout.Content className={\"router-outlet\"}>\n          <Suspense fallback={null}>\n            <Switch>\n              {routes.map(route => {\n                return (\n                  <Route key={route.path} exact\n                         path={`${dashBoardPath}${route.path}`}\n                         component={route.component}/>\n                );\n              })}\n              <Route component={NotFound}/>\n            </Switch>\n          </Suspense>\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  );\n};\nexport default DashBoardPage;\n\nexport interface IMenu {\n  name: string;\n  icon?: string;\n  path?: string;\n  children?: IMenu[];\n}\n"],"sourceRoot":""}