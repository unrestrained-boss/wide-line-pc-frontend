{"version":3,"sources":["pages/banner-item/BannerItemAddModal.tsx","pages/banner-item/BannerItemPage.tsx","utils/Upload.ts","services/BannerItemService.ts"],"names":["formItemLayout","labelCol","span","wrapperCol","create","props","preData","getPreData","isEditMode","undefined","useState","submitting","setSubmitting","form","getFieldDecorator","validateFieldsAndScroll","setFieldsValue","getFieldValue","handleSubmit","e","preventDefault","error","values","setCanClosable","files","uploadResultSerialization","img","process","body","length","value","type","status","pid","handleEditSubmit","handleAddSubmit","handleDoSubmit","a","BannerItemService","addBannerItem","err","showMessage","close","onComplete","success","updateBannerItem","id","useEffect","uploadPreData","spinning","layout","onSubmit","Item","label","extra","rules","required","message","validator","rule","cb","Error","initialValue","valuePropName","getValueFromEvent","uploadGetValueFromEvent","data","headers","UserService","getUserToken","customRequest","uploadCustomRequest","action","listType","className","autoFocus","placeholder","checkedChildren","unCheckedChildren","block","htmlType","BannerItemPage","columns","title","dataIndex","width","align","render","text","style","height","src","alt","color","_","row","size","onClick","WLModal","openModal","BannerItemAddModal","defaultCanDismiss","refresh","confirm","onOk","setLoading","failBack","deleteBannerItem","useBannerItemList","isError","isLoading","marginBottom","margin","showIcon","description","closable","bordered","loading","delay","locale","emptyText","pagination","rowKey","dataSource","options","onProgress","onError","onSuccess","withCredentials","file","filename","xhr","XMLHttpRequest","fd","FormData","append","Object","keys","forEach","key","open","setRequestHeader","upload","onprogress","percent","loaded","total","onerror","ontimeout","response","onabort","onload","readyState","JSON","parse","_getResponse","code","msg","send","abort","Array","isArray","fileList","fileEvents","host","map","item","url","replace","RegExp","uid","uniqueId","name","BaseService","useServiceListBase","addServiceBase","updateServiceBase","deleteServiceBase","toggleBannerItemStatus"],"mappings":"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","file":"static/js/12.ac2c23dc.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {Button, Form, Input, Switch, Spin, message, Upload, Icon} from \"antd\";\nimport {FormComponentProps} from \"antd/lib/form\";\nimport {IWLModalInjectProps} from \"../../components/wl-modal/WLModal\";\n// import BannerService from \"../../../services/system/BannerService\";\nimport {\n  uploadCustomRequest,\n  uploadGetValueFromEvent,\n  uploadPreData,\n  uploadResultSerialization\n} from \"../../utils/Upload\";\nimport UserService from \"../../services/UserService\";\nimport BannerItemService, {IBannerItem} from \"../../services/BannerItemService\";\n\ninterface Props extends FormComponentProps<IBannerItem & { img: any[] }>, IWLModalInjectProps {\n}\n\nconst formItemLayout = {\n  labelCol: {span: 4},\n  wrapperCol: {span: 20},\n};\nconst BannerItemAddModal: React.FC<Props> = (props) => {\n  const preData = props.getPreData<IBannerItem>();\n  const isEditMode = preData !== undefined;\n  const [submitting, setSubmitting] = useState(false);\n  const {getFieldDecorator, validateFieldsAndScroll, setFieldsValue, getFieldValue} = props.form;\n\n  function handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault();\n    validateFieldsAndScroll((error, values) => {\n      if (error) {\n        return;\n      }\n      handleDoSubmit(values);\n    });\n  }\n\n  function handleDoSubmit(values: IBannerItem & { img: any[] }) {\n    props.setCanClosable(false);\n    setSubmitting(true);\n    const files = uploadResultSerialization(values.img, process.env.REACT_APP_API_BASE_URL);\n    const body: IBannerItem = {\n      img: files.length > 0 ? files[0] : null,\n      value: values.value,\n      type: values.type,\n      status: values.status ? 1 : 0,\n      pid: 1,\n    };\n    if (isEditMode) {\n      handleEditSubmit(body);\n    } else {\n      handleAddSubmit(body);\n    }\n  }\n\n  async function handleAddSubmit(values: IBannerItem) {\n    const [, err] = await BannerItemService.addBannerItem(values);\n    props.setCanClosable(true);\n    setSubmitting(false);\n    if (err) {\n      err.showMessage();\n      return;\n    }\n    props.close();\n    props.onComplete!();\n    message.success('添加成功!');\n  }\n\n  async function handleEditSubmit(values: IBannerItem) {\n    const [, err] = await BannerItemService.updateBannerItem(preData.id!, values);\n    props.setCanClosable(true);\n    setSubmitting(false);\n    if (err) {\n      err.showMessage();\n      return;\n    }\n    props.close();\n    props.onComplete!();\n    message.success('编辑成功!');\n  }\n\n  useEffect(() => {\n    if (isEditMode) {\n      setFieldsValue({\n        img: preData.img ? uploadPreData([preData.img]) : [],\n        type: preData.type,\n        value: preData.value,\n        status: preData.status === 1,\n      });\n    }\n    // eslint-disable-next-line\n  }, []);\n  const img = getFieldValue('img') || [];\n  return (\n    <Spin spinning={submitting}>\n\n      <Form layout={\"horizontal\"} onSubmit={e => handleSubmit(e)}>\n        <Form.Item label={\"banner\"} {...formItemLayout} extra=\"上传 jpg/png 文件\">\n          {getFieldDecorator('img', {\n            rules: [\n              {required: true, message: '请上传图片'},\n              // {validator: (rule, value: any[], cb) => {\n              //     if(value.length === 0) {\n              //       cb(new Error('请上传图片'));\n              //     }\n              //     cb();\n              //   }},\n              {\n                validator: (rule, value: any[], cb) => {\n                  for (let item of value) {\n                    if (item.status === 'error') {\n                      cb(new Error('图片上传失败, 请重试'));\n                    }\n                  }\n                  cb();\n                }\n              },\n            ],\n            initialValue: [],\n            valuePropName: 'fileList',\n            getValueFromEvent: uploadGetValueFromEvent,\n          })(<Upload\n            data={{type: 'user'}}\n            headers={{'X-Token': UserService.getUserToken()!}}\n            customRequest={uploadCustomRequest}\n            action={`${process.env.REACT_APP_API_BASE_URL}/upload/files`}\n            listType=\"picture-card\">\n            {img.length === 0 && (\n              <>\n                <Icon type=\"plus\"/>\n                <div className=\"ant-upload-text\">选择文件</div>\n              </>\n            )}\n          </Upload>)}\n        </Form.Item>\n        <Form.Item label={\"参数\"} {...formItemLayout}>\n          {getFieldDecorator('value', {\n            rules: [{required: true, message: '请输入参数'}],\n          })(<Input autoFocus placeholder={\"请输入参数\"}/>)}\n        </Form.Item>\n        <Form.Item label={\"类型\"} {...formItemLayout}>\n          {getFieldDecorator('type', {\n            rules: [{required: true, message: '请输入类型'}],\n          })(<Input placeholder={\"请输入类型\"}/>)}\n        </Form.Item>\n        <Form.Item label={\"状态\"} {...formItemLayout}>\n          {getFieldDecorator('status', {\n            rules: [],\n            valuePropName: 'checked',\n            initialValue: true,\n          })(<Switch checkedChildren={\"启用\"} unCheckedChildren={\"禁用\"}/>)}\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\"\n                  block\n                  htmlType=\"submit\">\n            提交\n          </Button>\n        </Form.Item>\n      </Form>\n    </Spin>\n  );\n\n};\n\nexport default Form.create()(BannerItemAddModal);\n","import React from 'react';\nimport {Alert, Button, Icon, message, Table, Tag} from \"antd\";\nimport {ColumnProps} from \"antd/lib/table\";\nimport WLModal from \"../../components/wl-modal/WLModal\";\nimport BannerItemAddModal from \"./BannerItemAddModal\";\nimport BannerItemService, {IBannerItem} from \"../../services/BannerItemService\";\n\ninterface Props {\n\n}\n\nconst BannerItemPage: React.FC<Props> = (props) => {\n  const columns: ColumnProps<IBannerItem>[] = [\n    {title: '类型', dataIndex: 'type', width: 200, align: 'left',},\n    {\n      title: 'banner', dataIndex: 'img', width: 240, align: 'center', render: (text) => {\n        return (\n          <img style={{height: '80px', width: '200px'}}\n               src={text}\n               alt=\"\"/>\n        );\n      }\n    },\n    {title: '链接地址', dataIndex: 'value', width: 200, align: 'left',},\n    {\n      title: '状态', dataIndex: 'status', render: (text) => {\n        return (\n          <Tag color={text === 1 ? 'blue' : 'red'}>\n            {text === 1 ? '启用' : '禁用'}\n          </Tag>\n        );\n      }\n    },\n    {\n      title: '操作', align: 'center', width: 120, render: (_, row) => {\n        return (\n          <>\n            <Button size={\"small\"}\n                    type={\"primary\"}\n                    onClick={() => {\n                      WLModal.openModal(BannerItemAddModal, {\n                        title: '编辑banner',\n                        data: row,\n                        defaultCanDismiss: false,\n                        onComplete() {\n                          refresh();\n                        }\n                      });\n                    }}>编辑</Button>\n            &nbsp;\n            <Button size={\"small\"}\n                    type={\"danger\"}\n                    onClick={() => {\n                      WLModal.confirm(\"确实要删除吗?\", {\n                        async onOk({setLoading, close, failBack}) {\n                          setLoading();\n                          const [, err] = await BannerItemService.deleteBannerItem([row.id!]);\n                          if (err) {\n                            err.showMessage();\n                            failBack();\n                            return;\n                          }\n                          close();\n                          refresh();\n                          message.success('删除成功!');\n                        }\n                      });\n                    }}>删除</Button>\n          </>\n        );\n      }\n    },\n  ];\n  const {data, isError, isLoading, refresh} = BannerItemService.useBannerItemList();\n\n  function handleAddBanner() {\n    WLModal.openModal(BannerItemAddModal, {\n      title: '添加banner',\n      defaultCanDismiss: false,\n      onComplete() {\n        refresh();\n      }\n    });\n  }\n\n  return (\n    <div className={\"frame-content\"}>\n      <div style={{marginBottom: '20px'}}>\n        <Button onClick={handleAddBanner} type={\"primary\"}>\n          <Icon type={\"plus\"}/>\n          添加 banner\n        </Button>\n      </div>\n      {isError && (\n        <Alert style={{margin: '0 0 20px 0'}}\n               showIcon\n               message={\"抱歉\"}\n               description={(\n                 <>\n                   <span>出现了一点问题, 请稍后再试或</span>\n                   <Button type={\"link\"} onClick={() => refresh()}>点击重试</Button>\n                 </>\n               )}\n               type=\"error\"\n               closable\n        />\n      )}\n      <Table size={\"small\"}\n             bordered\n             loading={{\n               spinning: isLoading,\n               delay: 250,\n             }}\n             locale={{\n               emptyText: isLoading ? '拼命加载中...' : '抱歉, 暂无数据'\n             }}\n             pagination={false}\n             rowKey={\"id\"}\n             columns={columns}\n             dataSource={data}/>\n    </div>\n  );\n};\n\nexport default BannerItemPage;\n","import uniqueId from 'lodash/uniqueId';\nfunction _getResponse(response: string) {\n  try {\n    return JSON.parse(response);\n  } catch (e) {\n    return response;\n  }\n}\nexport function uploadCustomRequest(options: { [s: string]: any }) {\n  const {action, data, headers, onProgress, onError, onSuccess, withCredentials, file, filename} = options;\n  const xhr = new XMLHttpRequest();\n  const fd = new FormData();\n  fd.append(filename, file);\n  Object.keys(data).forEach(key => {\n    fd.append(key, data[key]);\n  });\n  xhr.open('POST', action);\n  Object.keys(headers).forEach(key => {\n    xhr.setRequestHeader(key, headers[key]);\n  });\n  xhr.withCredentials = withCredentials;\n  xhr.upload.onprogress = e => {\n    onProgress({percent: e.loaded / e.total * 100})\n  };\n  xhr.onerror = xhr.ontimeout = () => {\n    onError(xhr.response);\n  };\n  xhr.onabort = () => {\n  };\n  xhr.onload = () => {\n    if (xhr.readyState === 4) {\n      const response = _getResponse(xhr.response);\n      if (response.code === 200) {\n        onSuccess(response.data)\n      } else {\n        onError(response.msg || response);\n      }\n    } else {\n      onError(xhr.response);\n    }\n  };\n  xhr.send(fd);\n  return {\n    abort() {\n      xhr.abort();\n    }\n  };\n}\nexport function uploadGetValueFromEvent(e: any) {\n  if (Array.isArray(e)) {\n    return e;\n  }\n  return e && e.fileList;\n}\nexport function uploadResultSerialization(fileEvents: any[], host = ''): string[] {\n  return fileEvents.map(item => {\n    return item.response ? (item.response as string[])[0] : item.url.replace(new RegExp(`^${host}`), '');\n  });\n}\nexport function uploadPreData(data: string[]) {\n  return data.map(item => {\n    return {\n      uid: uniqueId('_upload_'),\n      name: uniqueId('_upload_name_'),\n      status: 'done',\n      url: item,\n    };\n  });\n}\n","import BaseService from \"./BaseService\";\n\nconst useBannerItemList = () => BaseService.useServiceListBase<IBannerItem>('/banner-item/index');\n\nconst addBannerItem = BaseService.addServiceBase<IBannerItem>('/banner-item/add');\n\nconst updateBannerItem = BaseService.updateServiceBase<IBannerItem>('/banner-item/edit');\n\nconst deleteBannerItem = BaseService.deleteServiceBase('/banner-item/delete');\n\nconst toggleBannerItemStatus = BaseService.updateServiceBase<{ status: boolean }>('/banner-item/edit');\n\nconst BannerItemService = {\n  useBannerItemList,\n  addBannerItem,\n  updateBannerItem,\n  deleteBannerItem,\n  toggleBannerItemStatus,\n};\n\nexport default BannerItemService;\n\nexport interface IBannerItem {\n  id?: number;\n  img: string | null;\n  type: string;\n  value: string;\n  status: number;\n  pid: number;\n}\n"],"sourceRoot":""}