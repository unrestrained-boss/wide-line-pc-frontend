(window["webpackJsonpwide-line"]=window["webpackJsonpwide-line"]||[]).push([[14],{197:function(e,a,t){"use strict";t.r(a);var n=t(22),r=t.n(n),s=(t(132),t(76)),c=(t(184),t(133)),i=(t(66),t(19)),l=(t(386),t(387)),u=(t(187),t(54)),o=(t(186),t(104)),d=t(40),p=t(10),m=t(0),f=t.n(m),b=t(426),g={labelCol:{span:4},wrapperCol:{span:20}};a.default=u.a.create()(function(e){var a=e.getPreData(),t=void 0!==a,n=Object(m.useState)(!1),h=Object(p.a)(n,2),v=h[0],E=h[1],w=e.form,y=w.getFieldDecorator,C=w.validateFieldsAndScroll,k=w.setFieldsValue;function B(a){a.preventDefault(),C(function(a,n){a||function(a){e.setCanClosable(!1),E(!0);var n={name:a.name,status:a.status?1:0};t?function(e){O.apply(this,arguments)}(n):function(e){x.apply(this,arguments)}(n)}(n)})}function x(){return(x=Object(d.a)(r.a.mark(function a(t){var n,c,i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.addBanner(t);case 2:if(n=a.sent,c=Object(p.a)(n,2),i=c[1],e.setCanClosable(!0),E(!1),!i){a.next=10;break}return i.showMessage(),a.abrupt("return");case 10:e.close(),e.onComplete(),s.a.success("\u6dfb\u52a0\u6210\u529f!");case 13:case"end":return a.stop()}},a)}))).apply(this,arguments)}function O(){return(O=Object(d.a)(r.a.mark(function t(n){var c,i,l;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.updateBanner(a.id,n);case 2:if(c=t.sent,i=Object(p.a)(c,2),l=i[1],e.setCanClosable(!0),E(!1),!l){t.next=10;break}return l.showMessage(),t.abrupt("return");case 10:e.close(),e.onComplete(),s.a.success("\u7f16\u8f91\u6210\u529f!");case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}return Object(m.useEffect)(function(){t&&k({name:a.name,status:1===a.status})},[]),f.a.createElement(c.a,{spinning:v},f.a.createElement(u.a,{layout:"horizontal",onSubmit:function(e){return B(e)}},f.a.createElement(u.a.Item,Object.assign({label:"\u5206\u7c7b\u540d\u79f0"},g),y("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}]})(f.a.createElement(o.a,{autoFocus:!0,placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}))),f.a.createElement(u.a.Item,Object.assign({label:"\u72b6\u6001"},g),y("status",{rules:[],valuePropName:"checked",initialValue:!0})(f.a.createElement(l.a,{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528"}))),f.a.createElement(u.a.Item,null,f.a.createElement(i.a,{type:"primary",block:!0,htmlType:"submit"},"\u63d0\u4ea4"))))})},212:function(e,a,t){"use strict";t.r(a);t(419);var n=t(418),r=(t(388),t(389)),s=(t(103),t(9)),c=t(22),i=t.n(c),l=(t(132),t(76)),u=t(10),o=t(40),d=(t(66),t(19)),p=(t(413),t(420)),m=t(0),f=t.n(m),b=t(426),g=t(79),h=t(197);a.default=function(e){var a=[{title:"\u540d\u79f0",dataIndex:"name",width:200,align:"left"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e){return f.a.createElement(p.a,{color:1===e?"blue":"red"},1===e?"\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",align:"center",width:120,render:function(e,a){return f.a.createElement(f.a.Fragment,null,f.a.createElement(d.a,{size:"small",type:"primary",onClick:function(){g.a.openModal(h.default,{title:"\u7f16\u8f91\u5206\u7c7b",data:a,defaultCanDismiss:!1,onComplete:function(){E()}})}},"\u7f16\u8f91"),"\xa0",f.a.createElement(d.a,{size:"small",type:"danger",onClick:function(){g.a.confirm("\u786e\u5b9e\u8981\u5220\u9664\u5417?",{onOk:function(){var e=Object(o.a)(i.a.mark(function e(t){var n,r,s,c,o,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setLoading,r=t.close,s=t.failBack,n(),e.next=4,b.a.deleteBanner([a.id]);case 4:if(c=e.sent,o=Object(u.a)(c,2),!(d=o[1])){e.next=11;break}return d.showMessage(),s(),e.abrupt("return");case 11:r(),E(),l.a.success("\u5220\u9664\u6210\u529f!");case 14:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}()})}},"\u5220\u9664"))}}],t=b.a.useBannerList(),c=t.data,m=t.isError,v=t.isLoading,E=t.refresh;return f.a.createElement("div",{className:"frame-content"},f.a.createElement("div",{style:{marginBottom:"20px"}},f.a.createElement(d.a,{onClick:function(){g.a.openModal(h.default,{title:"\u6dfb\u52a0\u5206\u7c7b",defaultCanDismiss:!1,onComplete:function(){E()}})},type:"primary"},f.a.createElement(s.a,{type:"plus"}),"\u6dfb\u52a0 banner \u5206\u7c7b")),m&&f.a.createElement(r.a,{style:{margin:"0 0 20px 0"},showIcon:!0,message:"\u62b1\u6b49",description:f.a.createElement(f.a.Fragment,null,f.a.createElement("span",null,"\u51fa\u73b0\u4e86\u4e00\u70b9\u95ee\u9898, \u8bf7\u7a0d\u540e\u518d\u8bd5\u6216"),f.a.createElement(d.a,{type:"link",onClick:function(){return E()}},"\u70b9\u51fb\u91cd\u8bd5")),type:"error",closable:!0}),f.a.createElement(n.a,{size:"small",bordered:!0,loading:{spinning:v,delay:250},locale:{emptyText:v?"\u62fc\u547d\u52a0\u8f7d\u4e2d...":"\u62b1\u6b49, \u6682\u65e0\u6570\u636e"},pagination:!1,rowKey:"id",columns:a,dataSource:c}))}},426:function(e,a,t){"use strict";var n=t(51),r={useBannerList:function(){return n.a.useServiceListBase("/banner/index")},addBanner:n.a.addServiceBase("/banner/add"),updateBanner:n.a.updateServiceBase("/banner/edit"),deleteBanner:n.a.deleteServiceBase("/banner/delete"),toggleBannerStatus:n.a.updateServiceBase("/banner/edit")};a.a=r}}]);
//# sourceMappingURL=14.d5cbc864.chunk.js.map